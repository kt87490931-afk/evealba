# 채용정보등록 MY PAGE 요구사항 및 액션플랜

## 1. 이해 확인 요약

### 1.1 MY PAGE 메뉴 (5개)

| 순번 | 메뉴명 | 이동 경로 | 비고 |
|------|--------|-----------|------|
| 1 | 채용정보등록 | `jobs_register.php` | 새 채용공고 작성 |
| 2 | 진행중인 채용정보 | 신규 페이지 | 본인 작성, 기간 남아있음 (입금대기중/진행중) |
| 3 | 마감된 채용정보 | 신규 페이지 | 본인 작성, 기간 종료됨 |
| 4 | 유료결제 내역 | 신규 페이지 | 본인 입금 내역 리스트 |
| 5 | 회원정보 수정 | `member_confirm.php` → `register_form.php` | 기존 회원정보수정 페이지 |

---

### 1.2 채용정보등록 → 결제 플로우

- 채용정보등록 폼 작성 후 **"결제하기"** 버튼 클릭
- **팝업**으로 결제 페이지 이동
- 결제 상태: **"입금대기중"** | **"진행중"**

---

### 1.3 진행중인 채용정보 리스트

- **게시판 리스트** 형태 (eve 게시판 디자인 사용)
- **컬럼**: 날짜 | 제목 | 상태(입금대기중/진행중) | 광고기간 | 점프횟수 | 연장버튼
- **연장버튼**: `jobs_register.php`의 **광고유료결제 섹션만** 표시 (팝업 또는 별도 모달)

---

### 1.4 상세 보기 (상태별 차이)

| 상태 | 리스트 제목 | 상세보기 시 표시 영역 |
|------|-------------|------------------------|
| **입금대기중** | `[닉네임]님의 광고글 입니다` | 등록한사진들, AI업소소개글용 종합정리 섹션만 |
| **진행중** | AI가 생성한 제목 | 등록한사진들, AI소개글, AI업소소개글용 종합정리 섹션 |
| **진행중** 수정 | — | 수정버튼 → AI소개글만 수정 가능 (AI 글 작성은 1회만, 사용자 재실행 불가) |

---

### 1.5 입금확인 처리

- **어드민**에서 입금확인 버튼 클릭
- 상태: 입금대기중 → **진행중**으로 변경
- 변경 시점부터 **광고 개재** 시작

---

## 2. 의견

### 2.1 데이터 구조

- 채용정보등록 게시판: Gnuboard `write` 테이블 또는 별도 `g5_jobs_register` 테이블 사용 예상
- 상태: `wr_1` 또는 `wr_2` 커스텀 필드에 `입금대기중` / `진행중` 저장
- 광고기간·점프횟수·연장 이력 등 추가 필드 필요
- 유료결제 내역: 별도 `g5_jobs_payment` 또는 포인트·결제 테이블 연동

### 2.2 진행 순서의 타당성

1. **MY PAGE 메뉴 수정** → 기존 `sidebar_jobs_register.php`에 5개 메뉴 구성
2. **리스트 페이지 구현** → 진행중·마감된 채용정보, 유료결제 내역
3. **Gemini API 연동** → AI 제목/소개글 생성 (리스트 완성 후)

이 순서가 맞고, 의존 관계도 적절합니다.

### 2.3 참고할 eve 게시판

- `theme/evealba/skin/board/eve_skin/list.skin.php`
- `theme/evealba/skin/board/basic/list.skin.php`

위 스킨을 참고하여 리스트 디자인을 맞출 수 있습니다.

---

## 3. 액션플랜

### Phase 1: MY PAGE 메뉴 수정

| 순번 | 액션 | 담당 | 산출물 |
|------|------|------|--------|
| 1.1 | `sidebar_jobs_register.php` 메뉴 5개로 수정 | 개발 | 채용정보등록, 진행중인 채용정보, 마감된 채용정보, 유료결제 내역, 회원정보 수정 |
| 1.2 | 각 메뉴 링크 URL 정의 (진행중/마감됨/유료결제는 임시 `#` → 추후 페이지 연결) | 개발 | — |
| 1.3 | 현재 페이지에 따른 `active` 클래스 적용 로직 추가 | 개발 | — |

**위험·실패 시 대응**

- 메뉴가 5개가 아닐 경우: `sidebar_jobs_register.php` 17~20행 구조를 다시 확인
- 링크 404: `head_jobs_register.php` 사용 페이지에서 공통 `G5_URL` 사용 여부 확인

---

### Phase 2: 진행중인 채용정보 리스트

| 순번 | 액션 | 담당 | 산출물 |
|------|------|------|--------|
| 2.1 | 신규 페이지 `jobs_ongoing.php` 생성 (또는 `jobs_list.php?type=ongoing`) | 개발 | PHP 파일 |
| 2.2 | 채용정보 게시판/테이블에서 본인 글 + 상태(입금대기중/진행중) 조회 | 개발 | 쿼리·API |
| 2.3 | eve 게시판 스킨 참고한 리스트 UI 구현 | 개발 | HTML·CSS |
| 2.4 | 컬럼: 날짜, 제목, 상태, 광고기간, 점프횟수, 연장버튼 | 개발 | — |
| 2.5 | 연장버튼 → 광고유료결제 섹션만 모달/팝업 표시 | 개발 | 모달 컴포넌트 |
| 2.6 | 상세보기 (행 클릭) → 상태별 다른 영역 표시 | 개발 | `jobs_view.php` 또는 동일 페이지 `?mode=view&id=` |

**위험·실패 시 대응**

- 본인 글이 안 보일 때: `mb_id`/`wr_name` 조건 및 세션 체크
- eve 스킨과 다를 때: `eve_skin/list.skin.php`, `evealba.css` 클래스명 재확인
- 연장 시 광고유료결제 섹션만 필요: `jobs_register_main.php`에서 해당 섹션만 분리해 include

---

### Phase 3: 마감된 채용정보 리스트

| 순번 | 액션 | 담당 | 산출물 |
|------|------|------|--------|
| 3.1 | 신규 페이지 `jobs_ended.php` (또는 `jobs_list.php?type=ended`) | 개발 | PHP 파일 |
| 3.2 | 기간 만료된 본인 글 조회 | 개발 | 쿼리 |
| 3.3 | 진행중인 채용정보와 동일한 eve 리스트 디자인 사용 | 개발 | — |
| 3.4 | 마감된 건은 연장·수정 버튼 비활성 또는 숨김 | 개발 | — |

---

### Phase 4: 유료결제 내역 리스트

| 순번 | 액션 | 담당 | 산출물 |
|------|------|------|--------|
| 4.1 | 신규 페이지 `jobs_payment_history.php` | 개발 | PHP 파일 |
| 4.2 | 결제 테이블에서 본인 입금 내역 조회 | 개발 | 쿼리 |
| 4.3 | eve 리스트 디자인으로 내역 표시 | 개발 | — |
| 4.4 | 컬럼: 날짜, 결제금액, 결제방법, 채용정보제목, 상태 등 | 개발 | — |

**위험·실패 시 대응**

- 결제 테이블 미구현: 기존 포인트/주문 테이블 구조 확인 후 연동 방안 결정
- 포인트·PG 연동: 별도 플랜 수립

---

### Phase 5: Gemini API 연동 준비 (리스트 완료 후)

| 순번 | 액션 | 담당 | 산출물 |
|------|------|------|--------|
| 5.1 | 입금확인 시 AI 제목 생성 호출 로직 설계 | 개발 | 설계서 |
| 5.2 | AI소개글 1회 생성·저장 구조 설계 | 개발 | — |
| 5.3 | API 키·환경변수·보안 정책 정리 | 개발 | 문서 |

---

## 4. 작업 순서 요약

```
1. Phase 1: MY PAGE 메뉴 5개 수정 (sidebar_jobs_register.php)
2. Phase 2: 진행중인 채용정보 리스트 (jobs_ongoing.php 또는 jobs_list.php)
3. Phase 3: 마감된 채용정보 리스트 (jobs_ended.php 또는 jobs_list.php)
4. Phase 4: 유료결제 내역 리스트 (jobs_payment_history.php)
5. Phase 5: Gemini API 연동 준비
```

---

## 5. 관련 파일 경로

| 구분 | 경로 |
|------|------|
| 채용등록 메인 | `theme/evealba/jobs_register_main.php` |
| 채용등록 사이드바 | `theme/evealba/inc/sidebar_jobs_register.php` |
| 채용등록 헤드 | `theme/evealba/head_jobs_register.php` |
| eve 게시판 리스트 스킨 | `theme/evealba/skin/board/eve_skin/list.skin.php` |
| eve basic 리스트 | `theme/evealba/skin/board/basic/list.skin.php` |
